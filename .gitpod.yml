# This configuration file was automatically generated by Gitpod.
# Please adjust to your needs (see https://www.gitpod.io/docs/config-gitpod-file)
# and commit this file to your remote git repository to share the goodness with others.

tasks:
  - init: |
      sudo apt-get update
      sudo apt-get install -y dirmngr gpg curl gawk git
      git clone https://github.com/asdf-vm/asdf.git ~/.asdf --branch v0.10.0
      echo ". $HOME/.asdf/asdf.sh" >> ~/.bashrc
      echo ". $HOME/.asdf/completions/asdf.bash" >> ~/.bashrc
      source ~/.bashrc
      asdf plugin add nodejs https://github.com/asdf-vm/asdf-nodejs.git
      asdf plugin add ruby https://github.com/asdf-vm/asdf-ruby.git
      asdf install
      gem install bundler:2.1.4
      bundle install
      npm -g install yarn
      yarn install
      docker-compose up -d db redis
ports:
  - port: 3000
    visibility: private
  - port: 30000
    visibility: private
vscode:
  extensions:
    - ms-azuretools.vscode-docker
    - rebornix.ruby
